<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guide de D√©ploiement - inopay</title>
  <style>
    :root { 
      --primary: #6366f1; 
      --primary-light: #818cf8;
      --success: #22c55e; 
      --warning: #f59e0b; 
      --danger: #ef4444;
      --bg: #0f172a; 
      --bg-card: #1e293b; 
      --bg-code: #0d1117;
      --text: #e2e8f0; 
      --text-muted: #94a3b8;
      --border: #334155; 
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); line-height: 1.7; }
    .container { max-width: 1000px; margin: 0 auto; padding: 2rem; }
    
    header { text-align: center; margin-bottom: 3rem; padding: 3rem 2rem; background: linear-gradient(135deg, var(--primary), #4f46e5); border-radius: 1.5rem; position: relative; overflow: hidden; }
    header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
    header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; position: relative; }
    header p { opacity: 0.9; font-size: 1.1rem; position: relative; }
    .sovereignty-badge { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: #ef444415; border: 2px solid #ef4444; border-radius: 2rem; font-weight: 700; font-size: 1.1rem; color: #ef4444; margin-top: 1.5rem; position: relative; backdrop-filter: blur(8px); }
    
    nav { background: var(--bg-card); border-radius: 1rem; padding: 1rem; margin-bottom: 2rem; border: 1px solid var(--border); position: sticky; top: 1rem; z-index: 100; }
    nav ul { display: flex; flex-wrap: wrap; gap: 0.5rem; list-style: none; justify-content: center; }
    nav a { color: var(--text-muted); text-decoration: none; padding: 0.5rem 1rem; border-radius: 0.5rem; transition: all 0.2s; font-size: 0.875rem; }
    nav a:hover { background: var(--primary); color: white; }
    
    section { background: var(--bg-card); border-radius: 1rem; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
    section h2 { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem; font-size: 1.5rem; }
    section h3 { margin: 2rem 0 1rem; color: var(--primary-light); font-size: 1.1rem; }
    .step-num { background: var(--primary); width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1rem; flex-shrink: 0; }
    
    .code-block { position: relative; background: var(--bg-code); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; overflow-x: auto; border: 1px solid var(--border); }
    .code-block code { font-family: 'Fira Code', 'Monaco', monospace; font-size: 0.875rem; white-space: pre-wrap; color: #e6edf3; }
    .copy-btn { position: absolute; top: 0.75rem; right: 0.75rem; background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-size: 0.75rem; font-weight: 600; transition: all 0.2s; }
    .copy-btn:hover { background: var(--primary-light); transform: scale(1.05); }
    .copy-btn.copied { background: var(--success); }
    
    .alert { padding: 1rem 1.25rem; border-radius: 0.75rem; margin: 1rem 0; display: flex; gap: 0.75rem; align-items: flex-start; }
    .alert-success { background: rgba(34, 197, 94, 0.1); border: 1px solid var(--success); }
    .alert-warning { background: rgba(245, 158, 11, 0.1); border: 1px solid var(--warning); }
    .alert-info { background: rgba(99, 102, 241, 0.1); border: 1px solid var(--primary); }
    .alert-danger { background: rgba(239, 68, 68, 0.1); border: 1px solid var(--danger); }
    .alert strong { display: block; margin-bottom: 0.25rem; }
    
    table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
    th, td { text-align: left; padding: 1rem; border-bottom: 1px solid var(--border); }
    th { background: var(--bg); font-weight: 600; color: var(--text-muted); text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.05em; }
    td code { background: var(--bg); padding: 0.25rem 0.5rem; border-radius: 0.375rem; font-size: 0.875rem; }
    tr:hover { background: rgba(99, 102, 241, 0.05); }
    
    .checklist { list-style: none; }
    .checklist li { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; border-bottom: 1px solid var(--border); transition: background 0.2s; }
    .checklist li:hover { background: rgba(99, 102, 241, 0.05); }
    .checklist li:last-child { border-bottom: none; }
    .checklist input { width: 22px; height: 22px; accent-color: var(--success); cursor: pointer; margin-top: 2px; flex-shrink: 0; }
    .checklist label { cursor: pointer; flex: 1; }
    
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1rem 0; }
    .card { background: var(--bg); border-radius: 0.75rem; padding: 1.5rem; border: 1px solid var(--border); }
    .card h4 { color: var(--primary-light); margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
    .card p { color: var(--text-muted); font-size: 0.875rem; }
    
    .tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
    .tab { padding: 0.75rem 1.25rem; background: var(--bg); border: 1px solid var(--border); border-radius: 0.5rem; cursor: pointer; transition: all 0.2s; }
    .tab:hover, .tab.active { background: var(--primary); border-color: var(--primary); color: white; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    
    footer { text-align: center; padding: 3rem 2rem; color: var(--text-muted); font-size: 0.875rem; }
    footer a { color: var(--primary); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
    
    @media (max-width: 768px) {
      .container { padding: 1rem; }
      header { padding: 2rem 1rem; }
      header h1 { font-size: 1.75rem; }
      section { padding: 1.5rem; }
      nav { position: static; }
      nav ul { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üöÄ inopay</h1>
      <p>Guide de d√©ploiement autonome complet</p>
      <div class="sovereignty-badge">‚ùå Score de Souverainet√©: 40%</div>
    </header>
    
    <nav>
      <ul>
        <li><a href="#prerequisites">Pr√©requis</a></li>
        <li><a href="#upload">Upload</a></li>
        <li><a href="#config">Configuration</a></li>
        <li><a href="#deploy">D√©ploiement</a></li>
        <li><a href="#webhooks">Webhooks</a></li>
        <li><a href="#ai">IA Open Source</a></li>
        
        <li><a href="#verify">V√©rification</a></li>
        <li><a href="#troubleshoot">D√©pannage</a></li>
      </ul>
    </nav>
    
    <section id="prerequisites">
      <h2><span class="step-num">1</span> Pr√©requis</h2>
      <ul class="checklist">
        <li><input type="checkbox" id="check-vps"> <label for="check-vps"><strong>Serveur VPS</strong> - Ubuntu 22.04+ ou Debian 12+ avec acc√®s SSH root<br><span style="color: var(--text-muted); font-size: 0.875rem;">Recommand√©: 2GB RAM, 2 vCPU minimum. Hetzner, OVH, Scaleway...</span></label></li>
        <li><input type="checkbox" id="check-docker"> <label for="check-docker"><strong>Docker</strong> - Sera install√© automatiquement si absent</label></li>
        <li><input type="checkbox" id="check-domain"> <label for="check-domain"><strong>Domaine (optionnel)</strong> - Enregistrement A pointant vers l'IP du serveur pour HTTPS automatique</label></li>
        <li><input type="checkbox" id="check-stripe"> <label for="check-stripe"><strong>Compte Stripe (si paiements)</strong> - Cl√©s API et webhook configur√©s</label></li>
      </ul>
      
      <div class="grid">
        <div class="card">
          <h4>üí° VPS √âconomique</h4>
          <p>Hetzner CX11 (~4‚Ç¨/mois), OVH Starter (~3‚Ç¨/mois), Scaleway DEV1-S (~5‚Ç¨/mois)</p>
        </div>
        <div class="card">
          <h4>üîí S√©curit√© recommand√©e</h4>
          <p>Cl√© SSH (pas de mot de passe), Firewall UFW, Fail2ban</p>
        </div>
      </div>
    </section>
    
    <section id="upload">
      <h2><span class="step-num">2</span> Upload & Extraction</h2>
      <div class="code-block"><code># Connexion au serveur
ssh root@VOTRE_IP

# Cr√©er le dossier et transf√©rer le ZIP
mkdir -p /opt/apps && cd /opt/apps

# Depuis votre machine locale (autre terminal):
scp liberation-pack.zip root@VOTRE_IP:/opt/apps/

# Retour sur le serveur - Extraction
cd /opt/apps
unzip liberation-pack.zip
cd inopay</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      
      <div class="alert alert-info">
        üí° <strong>Alternative: T√©l√©chargement direct</strong><br>
        Si votre pack est h√©berg√© en ligne, utilisez: <code>wget URL_DU_ZIP && unzip liberation-pack.zip</code>
      </div>
    </section>
    
    <section id="config">
      <h2><span class="step-num">3</span> Configuration</h2>
      
      <h3>3.1 - Fichier d'environnement</h3>
      <div class="code-block"><code># Copier le template
cp .env.example .env

# √âditer avec nano ou vim
nano .env</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      
      <h3>3.2 - Variables √† configurer</h3>
      <table>
        <thead><tr><th>Variable</th><th>Description</th><th>Requis</th><th>Exemple</th></tr></thead>
        <tbody>
          <tr>
              <td><code>PORT</code></td>
              <td>Port du serveur (d√©faut: 3000)</td>
              <td>‚ùå</td>
              <td><code>3000</code></td>
            </tr><tr>
              <td><code>NODE_ENV</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>JWT_SECRET</code></td>
              <td>Cl√© secr√®te JWT (32+ chars)</td>
              <td>‚úÖ</td>
              <td><code>(g√©n√©r√© automatiquement)</code></td>
            </tr><tr>
              <td><code>SUPABASE_URL</code></td>
              <td>URL projet Supabase (si utilis√©)</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>SUPABASE_SERVICE_ROLE_KEY</code></td>
              <td>Cl√© service Supabase</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>STRIPE_SECRET_KEY</code></td>
              <td>Cl√© secr√®te Stripe</td>
              <td>‚ùå</td>
              <td><code>sk_live_...</code></td>
            </tr><tr>
              <td><code>SUPABASE_ANON_KEY</code></td>
              <td>Cl√© anonyme Supabase</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>GITHUB_PERSONAL_ACCESS_TOKEN</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>RESEND_API_KEY</code></td>
              <td>Cl√© API Resend (emails)</td>
              <td>‚ùå</td>
              <td><code>re_...</code></td>
            </tr><tr>
              <td><code>DEEPSEEK_API_KEY</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>OPENROUTER_API_KEY</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>ANTHROPIC_API_KEY</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>ENCRYPTION_MASTER_KEY</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>LOVABLE_API_KEY</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>TWILIO_ACCOUNT_SID</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>TWILIO_AUTH_TOKEN</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>TWILIO_PHONE_NUMBER</code></td>
              <td>Variable personnalis√©e</td>
              <td>‚ùå</td>
              <td><code>-</code></td>
            </tr><tr>
              <td><code>STRIPE_WEBHOOK_SECRET</code></td>
              <td>Secret webhook Stripe</td>
              <td>‚ùå</td>
              <td><code>whsec_...</code></td>
            </tr>
        </tbody>
      </table>
      
      <div class="alert alert-warning">
        ‚ö†Ô∏è <strong>Important</strong><br>
        Les mots de passe et secrets seront g√©n√©r√©s automatiquement par le script quick-deploy.sh si vous les laissez vides.
      </div>
    </section>
    
    <section id="deploy">
      <h2><span class="step-num">4</span> D√©ploiement</h2>
      
      <div class="tabs">
        <button class="tab active" onclick="showTab('quick')">üöÄ M√©thode Rapide</button>
        <button class="tab" onclick="showTab('manual')">üîß Manuel</button>
      </div>
      
      <div id="tab-quick" class="tab-content active">
        <div class="code-block"><code># Rendre le script ex√©cutable et lancer
chmod +x scripts/quick-deploy.sh
sudo ./scripts/quick-deploy.sh</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
        <div class="alert alert-success">
          ‚úÖ <strong>Le script fait tout automatiquement:</strong><br>
          Installation Docker, g√©n√©ration des secrets, configuration firewall, d√©marrage des services
        </div>
      </div>
      
      <div id="tab-manual" class="tab-content">
        <div class="code-block"><code># 1. Installer Docker (si absent)
curl -fsSL https://get.docker.com | sh

# 2. G√©n√©rer les secrets
JWT_SECRET=$(openssl rand -base64 32)
POSTGRES_PASSWORD=$(openssl rand -base64 16)
echo "JWT_SECRET=$JWT_SECRET" >> .env
echo "POSTGRES_PASSWORD=$POSTGRES_PASSWORD" >> .env

# 3. Construire et d√©marrer
docker compose up -d --build

# 4. V√©rifier le statut
docker compose ps</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      </div>
    </section>
    
    
    <section id="webhooks">
      <h2><span class="step-num">5</span> Configuration des Webhooks</h2>
      
      <div class="alert alert-warning">
        ‚ö†Ô∏è <strong>Action requise</strong><br>
        Si votre application utilise des webhooks (Stripe, GitHub, etc.), vous devez les reconfigurer pour pointer vers votre nouveau serveur.
      </div>
      
      <h3>üîó Webhook Stripe</h3>
      <ol style="padding-left: 1.5rem; line-height: 2;">
        <li>Connectez-vous √† votre <a href="https://dashboard.stripe.com/webhooks" target="_blank" style="color: var(--primary);">Dashboard Stripe</a></li>
        <li>Cliquez sur "Ajouter un endpoint"</li>
        <li>URL: <code>https://VOTRE_DOMAINE/api/stripe-webhook</code></li>
        <li>S√©lectionnez les √©v√©nements: <code>checkout.session.completed</code>, <code>customer.subscription.updated</code>, etc.</li>
        <li>Copiez le "Signing secret" (commence par <code>whsec_</code>)</li>
        <li>Ajoutez dans votre <code>.env</code>: <code>STRIPE_WEBHOOK_SECRET=whsec_...</code></li>
        <li>Red√©marrez: <code>docker compose restart backend</code></li>
      </ol>
      
      <h3>üîó Webhook GitHub</h3>
      <ol style="padding-left: 1.5rem; line-height: 2;">
        <li>Allez dans Settings > Webhooks de votre repo</li>
        <li>Payload URL: <code>https://VOTRE_DOMAINE/api/github-webhook</code></li>
        <li>Content type: <code>application/json</code></li>
        <li>Secret: G√©n√©rez et ajoutez dans <code>.env</code></li>
      </ol>
      
      <h3>üß™ Tester les webhooks en local</h3>
      <div class="code-block"><code># Avec ngrok (pour tests)
ngrok http 3000

# Avec Stripe CLI
stripe listen --forward-to localhost:3000/api/stripe-webhook</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
    </section>
    
    
    
    <section id="ai">
      <h2><span class="step-num">6</span> IA Open Source avec Ollama</h2>
      
      <div class="alert alert-info">
        üí° <strong>Alternative gratuite √† OpenAI</strong><br>
        Ollama permet de faire tourner des mod√®les IA localement, sans API externe ni co√ªts r√©currents.
      </div>
      
      <h3>Installation</h3>
      <div class="code-block"><code># Ajouter Ollama √† votre stack (copier le contenu de services/ollama/docker-compose.yml)
# Puis:
docker compose up -d ollama

# T√©l√©charger un mod√®le (exemples)
docker exec ollama ollama pull llama2        # Usage g√©n√©ral
docker exec ollama ollama pull mistral       # Excellent √©quilibre
docker exec ollama ollama pull codellama     # Pour le code</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      
      <h3>Configuration</h3>
      <div class="code-block"><code># Dans .env
AI_PROVIDER=ollama
OLLAMA_URL=http://ollama:11434
OLLAMA_MODEL=llama2</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      
      <h3>Mod√®les recommand√©s</h3>
      <table>
        <thead><tr><th>Mod√®le</th><th>Taille</th><th>Usage</th><th>RAM requise</th></tr></thead>
        <tbody>
          <tr><td><code>llama2:7b</code></td><td>3.8 GB</td><td>Usage g√©n√©ral</td><td>8 GB</td></tr>
          <tr><td><code>mistral:7b</code></td><td>4.1 GB</td><td>Meilleur rapport qualit√©/vitesse</td><td>8 GB</td></tr>
          <tr><td><code>codellama:7b</code></td><td>3.8 GB</td><td>G√©n√©ration de code</td><td>8 GB</td></tr>
          <tr><td><code>mixtral:8x7b</code></td><td>26 GB</td><td>Qualit√© maximale</td><td>48 GB</td></tr>
          <tr><td><code>phi</code></td><td>1.6 GB</td><td>Petit mais efficace</td><td>4 GB</td></tr>
        </tbody>
      </table>
      
      <div class="alert alert-success">
        ‚úÖ Le client IA inclus (<code>src/lib/ai-client.ts</code>) supporte Ollama, OpenRouter et OpenAI. Changez simplement <code>AI_PROVIDER</code> dans .env.
      </div>
    </section>
    
    
    
    
    <section id="verify">
      <h2><span class="step-num">7</span> V√©rification</h2>
      
      <div class="code-block"><code># Statut des containers
docker compose ps

# Logs en temps r√©el
docker compose logs -f

# Test sant√© frontend
curl http://localhost

# Test sant√© API 
curl http://localhost/api/health</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      
      <div class="alert alert-success">
        üéâ <strong>Votre application est accessible!</strong><br>
        Frontend: <code>http://VOTRE_IP</code> | API: <code>http://VOTRE_IP/api/*</code>
      </div>
      
      <h3>Checklist post-d√©ploiement</h3>
      <ul class="checklist">
        <li><input type="checkbox" id="post-1"> <label for="post-1">Tous les containers sont en statut "healthy" ou "Up"</label></li>
        <li><input type="checkbox" id="post-2"> <label for="post-2">L'application se charge correctement dans le navigateur</label></li>
        <li><input type="checkbox" id="post-3"> <label for="post-3">L'endpoint /api/health renvoie {"status":"ok"}</label></li>
        
        <li><input type="checkbox" id="post-5"> <label for="post-5">SSL/HTTPS fonctionne (si domaine configur√©)</label></li>
        <li><input type="checkbox" id="post-6"> <label for="post-6">Les webhooks sont configur√©s et test√©s</label></li>
      </ul>
    </section>
    
    <section id="troubleshoot">
      <h2>üîß D√©pannage</h2>
      
      <h3>Commandes utiles</h3>
      <div class="code-block"><code># Voir les 100 derni√®res lignes de logs
docker compose logs --tail=100

# Logs d'un service sp√©cifique
docker compose logs -f frontend
docker compose logs -f backend

# Red√©marrer un service
docker compose restart frontend

# Reconstruire compl√®tement
docker compose down
docker compose build --no-cache
docker compose up -d

# Nettoyer les images inutilis√©es
docker system prune -af</code><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
      
      <h3>Probl√®mes fr√©quents</h3>
      <div class="grid">
        <div class="card">
          <h4>üî¥ Container qui red√©marre en boucle</h4>
          <p>V√©rifiez les logs: <code>docker compose logs [service]</code><br>Souvent un probl√®me de variable d'environnement manquante.</p>
        </div>
        <div class="card">
          <h4>üî¥ Erreur "port already in use"</h4>
          <p>Un autre service utilise le port. Trouvez-le: <code>lsof -i :80</code> puis arr√™tez-le ou changez le port dans docker-compose.yml</p>
        </div>
        <div class="card">
          <h4>üî¥ CORS errors</h4>
          <p>Ajoutez votre domaine dans <code>CORS_ORIGIN</code> du .env et red√©marrez le backend.</p>
        </div>
        <div class="card">
          <h4>üî¥ SSL ne fonctionne pas</h4>
          <p>V√©rifiez que le DNS pointe vers votre IP. Attendez propagation DNS (jusqu'√† 48h). V√©rifiez les logs Caddy.</p>
        </div>
      </div>
    </section>
    
    <footer>
      <p>G√©n√©r√© par <strong>InoPay Liberation Pack v4.0</strong></p>
      <p><a href="https://inopay.fr">inopay.fr</a> - Lib√©rez votre code, reprenez le contr√¥le !</p>
    </footer>
  </div>
  
  <script>
    function copyCode(btn) {
      const code = btn.parentElement.querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        btn.textContent = 'Copi√©!';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.textContent = 'Copier';
          btn.classList.remove('copied');
        }, 2000);
      });
    }
    
    function showTab(name) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById('tab-' + name).classList.add('active');
    }
    
    // Smooth scroll pour la navigation
    document.querySelectorAll('nav a').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
    
    // Sauvegarder l'√©tat des checkboxes
    document.querySelectorAll('.checklist input').forEach(checkbox => {
      const key = 'check-' + checkbox.id;
      checkbox.checked = localStorage.getItem(key) === 'true';
      checkbox.addEventListener('change', () => {
        localStorage.setItem(key, checkbox.checked);
      });
    });
  </script>
</body>
</html>